# ImgFetcher

[![Ruby Style Guide](https://img.shields.io/badge/code_style-rubocop-brightgreen.svg)](https://github.com/rubocop-hq/rubocop)

ImgFetcher is a command-line tool that given a plaintext file containing URLs (one per line),
downloads all of them to the local hard disk.

## Installation

From [RubyGems](http://rubygems.org/) you can download it with the following command:

```
    $ gem install img_fetcher
```

Or, you can clone this repository and build and install the gem by yourself:

1. Clone the repository.
2. Install Ruby dependencies:

```
    $ bundle install
```

3. Build and install the gem with the Rake command:
```
    $ bundle exec rake install
```
## Usage

After installing the gem, you will be able to run the script with the command line.

```
    $ img_fetcher -f plaintext.txt -o output_directory/
```

You can type `img_fetcher --help` at the terminal for more information.
```
Usage: img_fetcher -f <file_path> [options...]
    -f, --file FILE_PATH             [REQUIRED] Fetch and store the images from each line from the given file
    -o, --output OUTPUT_DIRECTORY    Specify the output directory
    -V, --version                    Show version number and quit
```

## Downloading file from URL

Regarding the download of files from a URL, the first approach will be using `open-uri`, but knowing that this input will be generated by external users, `open-uri` has some [limitations and security issues](https://janko.io/improving-open-uri/) if it's nothandled carefully. After doing some research, [Down](https://github.com/janko/down) gem takes care of all these issues for you, as well as valid URL, file size, timeouts, number of redirects, connectivity, and more.

For this case, we limit the **maximum number of redirects to 0** and **there's no limit about the file size**. Looking for an improvement, both can be added as a command-line option in a future.

## Contributing

Bug reports and pull requests are welcome on GitHub at https://github.com/francoprud/img_fetcher. This project is intended to be a safe, welcoming space for collaboration, and contributors are expected to adhere to the [code of conduct](https://github.com/[USERNAME]/img_fetcher/blob/master/CODE_OF_CONDUCT.md).

## License

ImgFetcher gem is available as open source under the terms of the [MIT License](https://opensource.org/licenses/MIT).

## Code of Conduct

Everyone interacting in the ImgFetcher project's codebases, issue trackers, chat rooms and mailing lists is expected to follow the [code of conduct](https://github.com/[USERNAME]/img_fetcher/blob/master/CODE_OF_CONDUCT.md).
